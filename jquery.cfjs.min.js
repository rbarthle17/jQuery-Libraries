/*!
 * jQuery CFJS plugin
 * version 1.2.9 (26 APR 2013)
 * @requires jQuery (http://jquery.com)
 *
 * Copyright (c) 2008 - 2013 Christopher Jordan
 * Dual licensed under the MIT and GPL licenses:
 * http://www.opensource.org/licenses/mit-license.php
 * http://www.gnu.org/licenses/gpl.html
 */
jQuery.extend({_commafy:function(a){return a.replace(/(\D?)(\d{4,})/g,function(c,b,d){return(/[.\w]/).test(b)?c:b+d.replace(/\d(?=(?:\d\d\d)+(?!\d))/g,"$&,")})},_DimensionCount:function(b){var e=0,d;for(d=0;d<b.length;d++){if(b[d].constructor==Array){e++}}return e},Abs:function(a){return Math.abs(a)},ArrayAppend:function(b,c){return b.push(c)},ArrayPrepend:function(b,c){return b.unshift(c)},ArraySort:function(b,d,e){var c;if(d.toUpperCase()=="TEXTNOCASE"){if(!e||e.toUpperCase()!="DESC"){c=function(g,f){g=g.toUpperCase();f=f.toUpperCase();if(g<f){return -1}else{if(g>f){return 1}else{return 0}}}}else{c=function(g,f){g=g.toUpperCase();f=f.toUpperCase();if(g>f){return -1}else{if(g<f){return 1}else{return 0}}}}}else{if(d.toUpperCase()=="TEXT"){if(!e||e.toUpperCase()!="DESC"){c=function(g,f){if(g<f){return -1}else{if(g>f){return 1}else{return 0}}}}else{c=function(g,f){if(g>f){return -1}else{if(g<f){return 1}else{return 0}}}}}else{if(d.toUpperCase()=="NUMERIC"){if(!e||e.toUpperCase()!="DESC"){c=function(g,f){return g-f}}else{c=function(g,f){return f-g}}}}}return b.sort(c)},ArrayToList:function(b,c){if(!c){c=","}return b.join(c)},ArrayLen:function(b){return b.length},Ceiling:function(a){return Math.ceil(a)},Compare:function(b,a){if(b==a){return 0}if(b>a){return 1}else{return -1}},CompareNoCase:function(b,a){return this.Compare(b.toUpperCase(),a.toUpperCase())},CreateDate:function(e,a,c){var b=new Date("01/01/1970");b.setFullYear(e);b.setMonth(a-1);b.setDate(c);b.setHours(0);b.setMinutes(0);b.setSeconds(0);return b},CreateDateTime:function(i,a,f,c,g,b){var e=new Date("01/01/1970");e.setFullYear(i);e.setMonth(a-1);e.setDate(f);e.setHours(c);e.setMinutes(g);e.setSeconds(b);return e},CreateTime:function(b,d,a){var c=new Date("01/01/1970");c.setHours(b);c.setMinutes(d);c.setSeconds(a);return c},CreateODBCDate:function(f){var c,e,a,b="invalid date object";if(isNaN(Date.parse(f))){return b}c=f.getFullYear();e=f.getMonth()+1;e=(e<10)?"0"+e:e;a=f.getDate();a=(a<10)?"0"+a:a;return"{d '"+c+"-"+e+"-"+a+"'}"},CreateODBCDateTime:function(i){var f,g,b,a,e,h,c="invalid date object";if(isNaN(Date.parse(i))){return c}f=i.getFullYear();g=i.getMonth()+1;g=(g<10)?"0"+g:g;b=i.getDate();b=(b<10)?"0"+b:b;a=i.getHours();e=i.getMinutes();h=i.getSeconds();return"{ts '"+f+"-"+g+"-"+b+" "+a+":"+e+":"+h+"'}"},CreateODBCTime:function(f){var a,c,e,b="invalid date object";if(isNaN(Date.parse(f))){return b}a=f.getHours();c=f.getMinutes();e=f.getSeconds();return"{t '"+a+":"+c+":"+e+"'}"},DateAdd:function(a,c,b){if(!(b instanceof Date)){b=new Date(b)}switch(a.toLowerCase()){case"yyyy":return new Date(b.getFullYear()+c,b.getMonth(),b.getDate());case"q":return new Date(b.getFullYear(),b.getMonth()+(c*3),b.getDate());case"m":return new Date(b.getFullYear(),b.getMonth()+c,b.getDate());case"d":return new Date(b.getFullYear(),b.getMonth(),b.getDate()+c);case"w":return b;case"ww":return new Date(b.getFullYear(),b.getMonth(),b.getDate()+(c*7));default:return b}},DateDiff:function(j,d,b){var a,k,n,i,f,m,l,h,q,c,o,p,g=new Date(d),e=new Date(b);p=e.valueOf()-g.valueOf();o=new Date(p);c=e.getUTCFullYear()-g.getUTCFullYear();q=e.getUTCMonth()-g.getUTCMonth()+(c!==0?c*12:0);h=q/3;l=p;m=p/1000;f=m/60;i=f/60;n=i/24;k=n/7;a=0;switch(j.toLowerCase()){case"yyyy":return c;case"q":return h;case"m":return q;case"y":return n;case"d":return n;case"w":return n;case"ww":return k;case"h":return i;case"n":return f;case"s":return m;case"ms":return l;default:return"invalid interval: '"+j+"'"}},DateFormat:function(c,b){var a,e;if(!(c instanceof Date)){c=new Date(c)}e=function(g,f){var d;if(!f){f=2}g=String(g);for(d=0,zeros="";d<(f-g.length);d++){zeros+="0"}return zeros+g};return b.replace(/"[^"]*"|'[^']*'|\b(?:d{1,4}|m{1,4}|yy(?:yy)?|([hHMstT])\1?|[lLZ])\b/g,function(d){switch(d){case"d":return c.getDate();case"dd":return e(c.getDate());case"ddd":return["Sun","Mon","Tue","Wed","Thr","Fri","Sat"][c.getDay()];case"dddd":return["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][c.getDay()];case"m":return c.getMonth()+1;case"mm":return e(c.getMonth()+1);case"mmm":return["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][c.getMonth()];case"mmmm":return["January","February","March","April","May","June","July","August","September","October","November","December"][c.getMonth()];case"yy":return String(c.getFullYear()).substr(2);case"yyyy":return c.getFullYear();case"h":return c.getHours()%12||12;case"hh":return e(c.getHours()%12||12);case"H":return c.getHours();case"HH":return e(c.getHours());case"M":return c.getMinutes();case"MM":return e(c.getMinutes());case"s":return c.getSeconds();case"ss":return e(c.getSeconds());case"l":return e(c.getMilliseconds(),3);case"L":a=c.getMilliseconds();if(a>99){a=Math.round(a/10)}return e(a);case"tt":return c.getHours()<12?"am":"pm";case"t":return c.getHours()<12?"a":"p";case"TT":return c.getHours()<12?"AM":"PM";case"T":return c.getHours()<12?"A":"P";case"Z":return c.toUTCString().match(/[A-Z]+$/);default:return d.substr(1,d.length-2)}})},DatePart:function(f,e){var c,a,b;switch(f){case"yyyy":return e.getFullYear();case"q":a=e.getMonth()+1;switch(a){case 1:case 2:case 3:return 1;case 4:case 5:case 6:return 2;case 7:case 8:case 9:return 3;case 10:case 11:case 12:return 4}case"m":a=e.getMonth()+1;a=(a<10)?"0"+a:a;return a;case"y":c=this.CreateDate(e.getFullYear(),1,1);return Math.ceil(this.DateDiff("d",c,e));case"d":b=e.getDate();b=(b<10)?"0"+b:b;return b;case"w":return e.getDay()+1;case"ww":c=this.CreateDate(e.getFullYear(),1,1);return Math.round(this.DateDiff("d",c,e)/7);case"h":return e.getHours();case"n":return e.getMinutes();case"s":return e.getSeconds();case"l":return e.getMilliseconds()}},DaysInMonth:function(a,b){return 32-new Date(b,(a-1),32).getDate()},DecimalFormat:function(a){return this._commafy(Number(a).toFixed(2))},DollarFormat:function(d){var c,b,a;c=d.toString().replace(/\$|\,/g,"");c=c.toString().replace("(","-");c=c.toString().replace(")","");if(isNaN(c)){c=0}b=(c==(c=Math.abs(d)));c=Math.floor(c*100+0.50000000001);a=c%100;c=Math.floor(c/100).toString();if(a<10){a="0"+a}c+="."+a;c=this._commafy(c);return(((b)?"":"(")+"$"+c+((b)?"":")"))},Find:function(b,a){return a.toString().indexOf(b)+1},FindNoCase:function(b,a){return this.Find(b.toUpperCase(),a.toUpperCase())},HTMLCodeFormat:function(a){return"<pre>"+this.HTMLEditFormat(a)+"</pre>"},HTMLEditFormat:function(a){var b={};a+="";b.sf="";for(b.i=0;b.i<a.length;b.i++){b.c=a.slice(b.i,b.i+1);switch(b.c){case'"':b.c="&quot;";break;case"&":b.c="&amp;";break;case">":b.c="&gt;";break;case"<":b.c="&lt;";break;default:break}b.sf+=b.c}return b.sf},Insert:function(c,a,b){a+="";return a.slice(0,b)+c+a.slice(b,a.length)},IsArray:function(b,c){if(c){nod=this._DimensionCount(b);if(nod==c){return true}return false}if(b.constructor==Array){return true}return false},IsBoolean:function(a){if(a.constructor==Boolean){return true}return false},IsDate:function(h){var f,e,g,a,b,c;f=/^(\d{1,2})(\/|-)(\d{1,2})(\/|-)(\d{4})$/;e=h.toString().match(f);if(e===null){return false}g=e[1];a=e[3];b=e[5];c=(b%4===0&&(b%100!==0||b%400===0));if(g<1||g>12){return false}if(a<1||a>31){return false}if((g==4||g==6||g==9||g==11)&&a==31){return false}if(g==2){if(a>29||(a==29&&!c)){return false}}return true},IsDefined:function(a){if(typeof a!="undefined"){return true}return false},IsLeapYear:function(a){if((a/4)!=Math.floor(a/4)){return false}if((a/100)!=Math.floor(a/100)){return true}if((a/400)!=Math.floor(a/400)){return false}return true},IsNumeric:(function(a){return jQuery.isNumeric||function(b){if(isNaN(b)){return false}return true}})(),IsSimpleValue:function(a){if(this.IsString(a)){return true}if(this.IsNumeric(a)){return true}if(this.IsBoolean(a)){return true}if(this.IsDate(a)){return true}return false},IsString:function(a){if(a.constructor==String){return true}return false},IsStruct:function(a){if(a.constructor==Object){return true}return false},IsValid:function(d,b,f,a){var c,g,e=0;d=d.toLowerCase();switch(d){case"any":return this.IsSimpleValue(b);case"array":return this.IsArray(b);case"date":return this.IsDate(b);case"boolean":return this.IsBoolean(b);case"email":return this.IsValid("regex",b,/(^[a-z0-9]([-a-z_\.0-9]*)@([-a-z_\.0-9]*)([.][a-z]{2,4})$)/i);case"eurodate":return this.IsDate(b);case"float":return this.IsNumeric(b);case"guid":return this.IsValid("regex",b,/(^[0-9-a-fA-F]{8}-([0-9-a-fA-F]{4}-){3}[0-9-a-fA-F]{12}$)/);case"integer":return this.IsValid("regex",b,/(^-?\d\d*$)/);case"numeric":return this.IsNumeric(b);case"range":return(((b*1)>=f)&&((b*1)<=a))?true:false;case"regex":return b.toString().match(f)?true:false;case"regular_expression":return this.IsValid("regex",b,f);case"social_security_number":return this.IsValid("ssn",b);case"ssn":return this.IsValid("regex",b,/^([0-6]\d{2}|7[0-6]\d|77[0-2])([ \-]?)(\d{2})\2(\d{4})$/);case"string":return this.IsString(b);case"struct":return this.IsStruct(b);case"telephone":return this.IsValid("regex",b,/^(\([1-9]\d{2}\)\s?|[1-9]\d{2}[\.\-])?\d{3}[\.\-]\d{4}$/);case"time":return this.IsDate(b);case"url":return this.IsValid("regex",b,/(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?/i);case"uuid":return this.IsValid("regex",b,/(^[0-9-a-fA-F]{8}-([0-9-a-fA-F]{4}-){2}[0-9-a-fA-F]{15}$)/);case"variablename":return this.IsValid("regex",b,/(^[a-zA-Z_][0-9a-zA-Z_]*$)/);case"zipcode":return this.IsValid("regex",b,/(^\d{5}$)|(^\d{5}-\d{4}$)/);case"creditcard":if(!this.IsValid("range",b.length,13,16)){return false}for(c=(2-(b.length%2));c<=b.length;c+=2){e+=parseInt(b.charAt(c-1),10)}for(c=(b.length%2)+1;c<b.length;c+=2){g=parseInt(b.charAt(c-1),10)*2;e+=(g<10)?g:(g-9)}return((e%10)===0)?true:false}},LCase:function(a){a+="";return a.toLowerCase()},Left:function(a,b){a+="";return a.slice(0,b)},Len:function(a){a+="";return a.length},ListAppend:function(a,b,e){var c="";a+="";if(!e){e=","}if(this.ListLen(a)){c=a+e+b}else{c=b}return c},ListChangeDelims:function(b,e,a){var d="^,$,|,.,+,*,?,,/",c;b+="";if(!a){a=","}if(this.ListFind(d,a)){a="\\"+a}c=new RegExp(a,"gi");return b.replace(c,e)},ListContains:function(a,g,f){var e="^,$,|,.,+,*,?,,/",c,b;a+="";if(!f){f=","}if(this.ListFind(e,g)){g="\\"+g}a=a.split(f);c=new RegExp(g,"g");for(b=0;b<a.length;b++){if(c.test(a[b])){return true}}return false},ListContainsNoCase:function(a,g,f){var e="^,$,|,.,+,*,?,,/",c,b;a+="";if(!f){f=","}if(this.ListFind(e,g)){g="\\"+g}a=a.split(f);c=new RegExp(g,"gi");for(b=0;b<a.length;b++){if(c.test(a[b])){return true}}return false},ListDeleteAt:function(a,g,h){var c,f,e="",b="",j=g-1;a+="";if(!h){h=","}for(c=0;c<a.split(h).length;c++){if(c!=j){f=c+1;if(e.length){b=h}e+=b+this.ListGetAt(a,f,h)}}return e},ListFind:function(a,b,g){var c,f=0,e;a+="";if(!g){g=","}e=a.split(g);for(c=0;c<e.length;c++){if(e[c]==b){f=c+1;break}}return f},ListFindNoCase:function(a,b,c){a+="";if(!c){c=","}return this.ListFind(a.toUpperCase(),b.toUpperCase(),c)},ListFirst:function(a,b){a+="";if(!b){b=","}return a.split(b)[0]},ListGetAt:function(a,b,c){a+="";if(!c){c=","}return a.split(c)[b-1]},ListInsertAt:function(c,f,e,g){var b;c+="";if(!g){g=","}c=c.split(g);if(f===0){c.unshift(e)}else{b=c.splice(f);c.push(e);c=c.concat(b)}return this.ListChangeDelims(c.toString(),g,",")},ListLast:function(a,b){a+="";if(!b){b=","}a=a.split(b);return a[a.length-1]},ListLen:function(a,b){a+="";if(!b){b=","}if(a.length){return a.split(b).length}return 0},ListPrepend:function(a,b,e){var c="";a+="";if(!e){e=","}if(this.ListLen(a)){c=b+e+a}else{c=b}return c},ListRest:function(a,b){a+="";if(!b){b=","}a=a.split(b);a.splice(0,1);a=(a.length)?this.ArrayToList(a,b):"";return a},ListSetAt:function(a,c,b,e){a+="";if(!e){e=","}a=a.split(e);a[c-1]=b;return this.ListChangeDelims(a.toString(),e,",")},ListSort:function(a,b,c,e){a+="";if(!e){e=","}a=a.split(e);a=this.ArraySort(a,b,c);return this.ListChangeDelims(a.toString(),e,",")},ListToArray:function(c,f){c+="";var e,b;if(!f){f=","}e=[];b=c.split(f);return b},ListValueCount:function(a,b,f){var g=0,e;a+="";if(!f){f=","}a=a.split(f);for(e=0;e<a.length;e++){if(a[e]==b){g++}}return g},ListValueCountNoCase:function(a,b,f){var g=0,e;a+="";if(!f){f=","}a=a.split(f);for(e=0;e<a.length;e++){if(a[e].toUpperCase()==b.toUpperCase()){g++}}return g},LTrim:function(a){a+="";if(a.length){return a.replace(/^\s*/,"")}return""},Mid:function(a,d,b){a+="";d-=1;return a.slice(d,d+b)},Pad:function(e,f,c,b){var a,d;if(arguments.length<=3){b="R"}if(arguments.length<=2){c=" "}if(arguments.length<=1){f=10}if(arguments.length===0){e=""}a=e.length;d=f-a;if(a>=f){return e}if(b==="R"||b==="Right"){return e+this.RepeatString(c,d)}return this.RepeatString(c,d)+e},Param:function(n,d){if(!this.IsDefined(n)){if(this.IsString(d)){eval("var "+n+" = '"+d+"';")}else{eval("var "+n+" = "+d+";")}}},RandRange:function(b,a){return Math.floor(Math.random()*(a-b+1))+b},RepeatString:function(c,d){var a="",b;for(b=1;b<=d;b++){a+=c}return a},Replace:function(d,c,a,e){var b;d+="";if(!e||e.toUpperCase()!=="ALL"){e=""}else{e="g"}b=new RegExp(c,e);return d.replace(b,a)},ReplaceNoCase:function(d,c,a,e){var b;d+="";if(!e||e.toUpperCase()!=="ALL"){e="i"}else{e="gi"}b=new RegExp(c,e);return d.replace(b,a)},Reverse:function(b){var a,c;b+="";c="";for(a=b.length;0<=a;a--){c+=b.charAt(a)}return c},Right:function(a,b){a+="";return a.slice(a.length-b,a.length)},Round:function(b,a){if(!a){return Math.round(b)}return Math.round(b*a)/a},RTrim:function(a){a+="";if(a.length){return a.replace(/\s*$/,"")}return""},StructKeyArray:function(d){var c,b=[];for(c in d){b.push(c)}return b},StructKeyExists:function(b,a){return !!b[a]},StructKeyList:function(e,f){var c,b="";if(!f){f=","}for(c in e){b=this.ListAppend(b,c,f)}return b},TimeFormat:function(b,a){return this.DateFormat(b,a)},Trim:function(a){a+="";if(a.length){return a.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}return""},UCase:function(a){return a.toString().toUpperCase()},URLDecode:function(a){return unescape(a)},URLEncodedFormat:function(a){return encodeURI(a)},Val:function(c){var d=/^\s*[+-]?[0-9\.]+/,b=c.match(d);if(b===null){return 0}else{return parseFloat(b[0],10)}}});